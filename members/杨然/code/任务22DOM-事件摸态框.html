<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>摸态框</title>
<meta name="description" content="">
<meta name="keywords" content="">
<link href="" rel="stylesheet">
<style>
a {
	text-decoration: none;
	color: #888;
}
	#modal {
		position: absolute;
		top: 0;
		bottom: 0;
		left: 0;
		right: 0;
	}
	#modal .modal-ct {
		position: fixed;
		top: 50%;
		left: 50%;
		width: 400px;
		/*height: 300px;*/
		border: 1px solid black;
		margin-left: -200px;
		margin-top: -10%;
	}
	#modal .modal-ct .header {
		height: 36px;
		line-height: 36px;
		border-bottom: 1px solid #ccc;
		/*position: relative;*/
	}
	#modal .modal-ct .header:after {
		content: '';
		display: block;
		clear: both;
	}
	#modal .modal-ct .header h3 {
		
		float: left;
		margin: 0;
		padding: 0;
		padding-left: 10px;
	}
	#modal .modal-ct .header .close {
		/*position: absolute;
		right: 10px;
		top: 10px;
		line-height: 1;*/
		float: right;
		margin-right: 10px;
	}
	#modal .modal-ct .content {
		padding: 10px;
	}
	#modal .modal-ct .footer {
		padding: 10px;
		border-top: 1px solid #eee;
	}
	#modal .modal-ct .footer:after {
		content: '';
		display: block;
		clear: both;
	}
	#modal .modal-ct .footer .btn {
		float: right;
		margin-right: 10px;
	}
</style>
</head>
<body>
    <div class="btn">
		<button id="btn-modal">点我1</button>
    </div>

    <div id="modal" style="display: none;">
    	<div class="modal-ct">
    		<div class="header">
    			<h3>我是标题1</h3>
    			<a class="close" href="javascript:;">
    				x
    			</a>
    		</div>
    		<div class="content">
    			<p>我是内容1</p>
    			<p>我是内容2</p>
    		</div>
			<div class="footer">
				<a href="javascript:;" class="btn confirm">确定</a>
				<a href="javascript:;" class="btn cancel">取消</a>
			</div>
    	</div>
    </div>
    <script>
    	var modalCt = document.querySelector('.modal-ct');
    	var modal = document.querySelector('#modal');
    	var oBtn = document.querySelector('#btn-modal');
    	var close = document.querySelector('.close');
    	var cancel = document.querySelector('.cancel');
    	oBtn.addEventListener('click', function(e) {
    		e.stopPropagation();
    		showModal(modal);
    	});
    	modalCt.addEventListener('click', function(e) {
    		e.stopPropagation();
    		if (hasClass(e.target, 'close') || hasClass(e.target, 'cancel')) {
    			hideModal(modal);
    		}
    		
    	})
    	//不用hasClass函数的写法
    	// modalCt.addEventListener('click', function(e) {
    	// 	e.stopPropagation();
    	// })
    	// close.addEventListener('click', function(e) {
    	// 	e.stopPropagation();
    	// 	hideModal(modal);
    	// })
    	// cancel.addEventListener('click', function(e) {
    	// 	e.stopPropagation();
    	// 	hideModal(modal);
    	// })
    	document.body.addEventListener('click', function(e) {
    		hideModal(modal);
    	})
    	function showModal(modal) {
    		modal.style.display = 'block';
    	}
    	function hideModal(modal) {
    		modal.style.display = 'none';
    	}
    	function hasClass(ele, cls) {
    		return !!ele.className.match(new RegExp('\\b' + cls + '\\b'));//双感叹号输出布尔值，!!字符串为true。
    	}
    </script>
</body>
</html>