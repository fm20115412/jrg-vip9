<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>renwu29-load</title>
<meta name="description" content="">
<meta name="keywords" content="">
<link href="" rel="stylesheet">
</head>
<style>
	html,body,ul,li,img,p {
		margin: 0;
		padding: 0;
	}
	ul,li {
		list-style: none;
	}
	.box {
		margin: 0 auto;
		/*background-color: #ccc;*/
		width: 1200px;
		/*height: 144444px;*/
	}
	.box:after {
		content: '';
		display: block;
		clear: both;
	}
	.box > li {
		float: left;
		width: 400px;
		height: 250px;
		text-align: center;
	}
	li a {
		/*width: 100%;*/
	}
	li img {
		width: 400px;
	}
	.mark {
		/*position: relative;*/
	}
</style>
<body>
<ul class="box">
	<li><a href="javascript:;"><img src="" data-src="123.jpg" alt=""></a></li>
	<li><a href="javascript:;"><img src="" data-src="123.jpg" alt=""></a></li>
	<li><a href="javascript:;"><img src="" data-src="123.jpg" alt=""></a></li>
	<li><a href="javascript:;"><img src="" data-src="123.jpg" alt=""></a></li>
	<li><a href="javascript:;"><img src="" data-src="123.jpg" alt=""></a></li>
	<li><a href="javascript:;"><img src="" data-src="123.jpg" alt=""></a></li>
	<li><a href="javascript:;"><img src="" data-src="123.jpg" alt=""></a></li>
	<li><a href="javascript:;"><img src="" data-src="123.jpg" alt=""></a></li>
	<li><a href="javascript:;"><img src="" data-src="123.jpg" alt=""></a></li>
	<li><a href="javascript:;"><img src="" data-src="123.jpg" alt=""></a></li>
	<li><a href="javascript:;"><img src="" data-src="123.jpg" alt=""></a></li>
	<li><a href="javascript:;"><img src="" data-src="123.jpg" alt=""></a></li>
	<li><a href="javascript:;"><img src="" data-src="123.jpg" alt=""></a></li>
	<li><a href="javascript:;"><img src="" data-src="123.jpg" alt=""></a></li>
	<li><a href="javascript:;"><img src="" data-src="123.jpg" alt=""></a></li>
	<li><a href="javascript:;"><img src="" data-src="123.jpg" alt=""></a></li>
	<li><a href="javascript:;"><img src="" data-src="123.jpg" alt=""></a></li>
	<li><a href="javascript:;"><img src="" data-src="123.jpg" alt=""></a></li>
	<li><a href="javascript:;"><img src="" data-src="123.jpg" alt=""></a></li>
	<li><a href="javascript:;"><img src="" data-src="123.jpg" alt=""></a></li>
	<li><a href="javascript:;"><img src="" data-src="123.jpg" alt=""></a></li>
	<li><a href="javascript:;"><img src="" data-src="123.jpg" alt=""></a></li>
	<li><a href="javascript:;"><img src="" data-src="123.jpg" alt=""></a></li>
	<li><a href="javascript:;"><img src="" data-src="123.jpg" alt=""></a></li>
	<li><a href="javascript:;"><img src="" data-src="123.jpg" alt=""></a></li>
	<li><a href="javascript:;"><img src="" data-src="123.jpg" alt=""></a></li>
	<li><a href="javascript:;"><img src="" data-src="123.jpg" alt=""></a></li>
	<li><a href="javascript:;"><img src="" data-src="123.jpg" alt=""></a></li>
	<li><a href="javascript:;"><img src="" data-src="123.jpg" alt=""></a></li>
	<li><a href="javascript:;"><img src="" data-src="123.jpg" alt=""></a></li>
	<li><a href="javascript:;"><img src="" data-src="123.jpg" alt=""></a></li>
	<li><a href="javascript:;"><img src="" data-src="123.jpg" alt=""></a></li>
	<li><a href="javascript:;"><img src="" data-src="123.jpg" alt=""></a></li>
	<li><a href="javascript:;"><img src="" data-src="123.jpg" alt=""></a></li>
	<li><a href="javascript:;"><img src="" data-src="123.jpg" alt=""></a></li>
	<li><a href="javascript:;"><img src="" data-src="123.jpg" alt=""></a></li>
	<li><a href="javascript:;"><img src="" data-src="123.jpg" alt=""></a></li>
	<li><a href="javascript:;"><img src="" data-src="123.jpg" alt=""></a></li>
	<li><a href="javascript:;"><img src="" data-src="123.jpg" alt=""></a></li>
	<li><a href="javascript:;"><img src="" data-src="123.jpg" alt=""></a></li>
	<li><a href="javascript:;"><img src="" data-src="123.jpg" alt=""></a></li>
	<li><a href="javascript:;"><img src="" data-src="123.jpg" alt=""></a></li>
	<li><a href="javascript:;"><img src="" data-src="123.jpg" alt=""></a></li>
	<li><a href="javascript:;"><img src="" data-src="123.jpg" alt=""></a></li>
	<li><a href="javascript:;"><img src="" data-src="123.jpg" alt=""></a></li>
	<li><a href="javascript:;"><img src="" data-src="123.jpg" alt=""></a></li>
	<li><a href="javascript:;"><img src="" data-src="123.jpg" alt=""></a></li>
	<li><a href="javascript:;"><img src="" data-src="123.jpg" alt=""></a></li>
	<li><a href="javascript:;"><img src="" data-src="123.jpg" alt=""></a></li>
	<li><a href="javascript:;"><img src="" data-src="123.jpg" alt=""></a></li>
	<li><a href="javascript:;"><img src="" data-src="123.jpg" alt=""></a></li>
	<li><a href="javascript:;"><img src="" data-src="123.jpg" alt=""></a></li>
	<li><a href="javascript:;"><img src="" data-src="123.jpg" alt=""></a></li>
	<li><a href="javascript:;"><img src="" data-src="123.jpg" alt=""></a></li>
	<li><a href="javascript:;"><img src="" data-src="123.jpg" alt=""></a></li>
	<li><a href="javascript:;"><img src="" data-src="123.jpg" alt=""></a></li>
	
</ul>
    <script type="text/javascript" src="http://apps.bdimg.com/libs/jquery/1.9.1/jquery.min.js"></script>
    <script>
    //li,img要设置高度，不然img的offset().top就会因为a标签非常小。
    	var clock;
    	checkImg();
    	$(window).on('scroll', function(){
    		if (clock) {
    			clearTimeout(clock);
    		}
    		clock = setTimeout(function(){
    			checkImg();
    		},500);
    	});

    	function checkImg(){
    		$('.box img').each(function(){
	    			var $cur = $(this);
	    			if ($cur.data('isload')) {
	    				return;
	    			}
	    			if (isShow($cur)) {
	    				showImg($cur);
	    			}
    			});
    		}
    	
    	function isShow($node){
    		var winH = $(window).height(),
    			scrollH = $(window).scrollTop(),
    			top = $node.offset().top;
    		if (top < (winH + scrollH)) {
    			console.log(winH);
    			console.log(scrollH);
    			console.log(top);
    			console.log(top < (winH + scrollH));
    			return true;
    		} else {
    			return false;
    		}
    	}
    	function showImg($node){
    		$node.attr('src', $node.attr('data-src'));
    		$node.data('isload', true);
    	}
    </script>
</body>
</html>